{"ast":null,"code":"import { c as _objectSpread2, b as _slicedToArray } from './index-0108918f.js';\nimport React, { useReducer, useRef, useEffect } from 'react';\nimport '@uploadcare/client-suspense';\nimport { u as useCustomTabs } from './use-custom-tabs-23eca793.js';\nimport 'react-fast-compare';\nimport uploadcare from 'uploadcare-widget';\n\nvar merge = function merge(state, newState) {\n  return _objectSpread2(_objectSpread2({}, state), newState);\n};\n\nvar useState = function useState(initial) {\n  return useReducer(merge, initial || {});\n};\n\nvar containerStyles = {\n  height: '500px',\n  display: 'flex',\n  flexDirection: 'column',\n  alignItems: 'center',\n  justifyContent: 'center'\n};\n\nvar Progress = function Progress(_ref) {\n  var hidden = _ref.hidden,\n      value = _ref.value;\n  var ref = useRef(null);\n  var renderer = useRef(null);\n  useEffect(function () {\n    renderer.current = new uploadcare.Circle(ref.current).renderer;\n  }, []);\n  useEffect(function () {\n    renderer.current.setValue(value);\n  }, [value]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    hidden: hidden,\n    ref: ref\n  });\n};\n\nvar useDialog = function useDialog(props, uploadcare) {\n  var _useState = useState({\n    opened: true,\n    file: null,\n    progress: null\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      state = _useState2[0],\n      setState = _useState2[1];\n\n  var customTabs = props.customTabs,\n      tabsCss = props.tabsCss;\n  useCustomTabs(customTabs, uploadcare);\n  var panelContainer = useRef(null);\n  var panelInstance = useRef(null);\n  useEffect(function () {\n    if (state.opened) {\n      if (uploadcare && tabsCss && typeof tabsCss === 'string') {\n        if (tabsCss.indexOf('https://') === 0) {\n          uploadcare.tabsCss.addUrl(tabsCss);\n        } else {\n          uploadcare.tabsCss.addStyle(tabsCss);\n        }\n      }\n\n      panelInstance.current && panelInstance.current.reject();\n      panelInstance.current = uploadcare.openPanel(panelContainer.current, state.file ? uploadcare.fileFrom('uploaded', state.file.uuid, props) : null, props);\n      setState({\n        file: null\n      });\n      panelInstance.current.done(function (file) {\n        setState({\n          opened: false\n        });\n        file.progress(function (state) {\n          return setState({\n            progress: state.progress\n          });\n        });\n        file.done(function (file) {\n          return setState({\n            file: file\n          });\n        });\n      });\n    } // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, [uploadcare, props, setState, state.opened]);\n  useEffect(function () {\n    return function () {\n      return panelInstance.current && panelInstance.current.reject();\n    };\n  }, []);\n  return [state, setState, panelContainer];\n};\n\nvar Dialog = function Dialog(props) {\n  var _useDialog = useDialog(props, uploadcare),\n      _useDialog2 = _slicedToArray(_useDialog, 3),\n      _useDialog2$ = _useDialog2[0],\n      opened = _useDialog2$.opened,\n      file = _useDialog2$.file,\n      progress = _useDialog2$.progress,\n      setState = _useDialog2[1],\n      containerRef = _useDialog2[2];\n\n  var readyState = file && !opened;\n  var progressState = !file && !opened && progress !== null;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    id: props.id,\n    style: containerStyles\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    ref: containerRef\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    hidden: !readyState\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"uploadcare--button uploadcare--button_primary\",\n    onClick: function onClick() {\n      return setState({\n        opened: true,\n        sourse: 'natural'\n      });\n    }\n  }, \"Open panel\")), /*#__PURE__*/React.createElement(\"span\", {\n    hidden: !readyState\n  }, \"File uuid: \"), /*#__PURE__*/React.createElement(\"span\", {\n    hidden: !readyState\n  }, file && file.uuid), /*#__PURE__*/React.createElement(Progress, {\n    hidden: !progressState,\n    value: progress\n  }));\n};\n\nexport default Dialog;","map":{"version":3,"sources":["/Users/timriene/Desktop/gotovo/firebase-project/node_modules/@uploadcare/react-widget/dist/esm/dialog-33e3db38.js"],"names":["c","_objectSpread2","b","_slicedToArray","React","useReducer","useRef","useEffect","u","useCustomTabs","uploadcare","merge","state","newState","useState","initial","containerStyles","height","display","flexDirection","alignItems","justifyContent","Progress","_ref","hidden","value","ref","renderer","current","Circle","setValue","createElement","useDialog","props","_useState","opened","file","progress","_useState2","setState","customTabs","tabsCss","panelContainer","panelInstance","indexOf","addUrl","addStyle","reject","openPanel","fileFrom","uuid","done","Dialog","_useDialog","_useDialog2","_useDialog2$","containerRef","readyState","progressState","id","style","className","onClick","sourse"],"mappings":"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","sourcesContent":["import { c as _objectSpread2, b as _slicedToArray } from './index-0108918f.js';\nimport React, { useReducer, useRef, useEffect } from 'react';\nimport '@uploadcare/client-suspense';\nimport { u as useCustomTabs } from './use-custom-tabs-23eca793.js';\nimport 'react-fast-compare';\nimport uploadcare from 'uploadcare-widget';\n\nvar merge = function merge(state, newState) {\n  return _objectSpread2(_objectSpread2({}, state), newState);\n};\n\nvar useState = function useState(initial) {\n  return useReducer(merge, initial || {});\n};\n\nvar containerStyles = {\n  height: '500px',\n  display: 'flex',\n  flexDirection: 'column',\n  alignItems: 'center',\n  justifyContent: 'center'\n};\n\nvar Progress = function Progress(_ref) {\n  var hidden = _ref.hidden,\n      value = _ref.value;\n  var ref = useRef(null);\n  var renderer = useRef(null);\n  useEffect(function () {\n    renderer.current = new uploadcare.Circle(ref.current).renderer;\n  }, []);\n  useEffect(function () {\n    renderer.current.setValue(value);\n  }, [value]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    hidden: hidden,\n    ref: ref\n  });\n};\n\nvar useDialog = function useDialog(props, uploadcare) {\n  var _useState = useState({\n    opened: true,\n    file: null,\n    progress: null\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      state = _useState2[0],\n      setState = _useState2[1];\n\n  var customTabs = props.customTabs,\n      tabsCss = props.tabsCss;\n  useCustomTabs(customTabs, uploadcare);\n  var panelContainer = useRef(null);\n  var panelInstance = useRef(null);\n  useEffect(function () {\n    if (state.opened) {\n      if (uploadcare && tabsCss && typeof tabsCss === 'string') {\n        if (tabsCss.indexOf('https://') === 0) {\n          uploadcare.tabsCss.addUrl(tabsCss);\n        } else {\n          uploadcare.tabsCss.addStyle(tabsCss);\n        }\n      }\n\n      panelInstance.current && panelInstance.current.reject();\n      panelInstance.current = uploadcare.openPanel(panelContainer.current, state.file ? uploadcare.fileFrom('uploaded', state.file.uuid, props) : null, props);\n      setState({\n        file: null\n      });\n      panelInstance.current.done(function (file) {\n        setState({\n          opened: false\n        });\n        file.progress(function (state) {\n          return setState({\n            progress: state.progress\n          });\n        });\n        file.done(function (file) {\n          return setState({\n            file: file\n          });\n        });\n      });\n    } // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, [uploadcare, props, setState, state.opened]);\n  useEffect(function () {\n    return function () {\n      return panelInstance.current && panelInstance.current.reject();\n    };\n  }, []);\n  return [state, setState, panelContainer];\n};\n\nvar Dialog = function Dialog(props) {\n  var _useDialog = useDialog(props, uploadcare),\n      _useDialog2 = _slicedToArray(_useDialog, 3),\n      _useDialog2$ = _useDialog2[0],\n      opened = _useDialog2$.opened,\n      file = _useDialog2$.file,\n      progress = _useDialog2$.progress,\n      setState = _useDialog2[1],\n      containerRef = _useDialog2[2];\n\n  var readyState = file && !opened;\n  var progressState = !file && !opened && progress !== null;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    id: props.id,\n    style: containerStyles\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    ref: containerRef\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    hidden: !readyState\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"uploadcare--button uploadcare--button_primary\",\n    onClick: function onClick() {\n      return setState({\n        opened: true,\n        sourse: 'natural'\n      });\n    }\n  }, \"Open panel\")), /*#__PURE__*/React.createElement(\"span\", {\n    hidden: !readyState\n  }, \"File uuid: \"), /*#__PURE__*/React.createElement(\"span\", {\n    hidden: !readyState\n  }, file && file.uuid), /*#__PURE__*/React.createElement(Progress, {\n    hidden: !progressState,\n    value: progress\n  }));\n};\n\nexport default Dialog;\n"]},"metadata":{},"sourceType":"module"}